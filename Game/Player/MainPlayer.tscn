[gd_scene load_steps=46 format=2]

[ext_resource path="res://Game/Player/MainPlayer.gd" type="Script" id=1]
[ext_resource path="res://Game/Media/Soundtrack/farts/fartsmall02.wav" type="AudioStream" id=2]
[ext_resource path="res://Game/Media/Soundtrack/farts/fart26a.wav" type="AudioStream" id=3]
[ext_resource path="res://Game/Media/Soundtrack/farts/fart45a.wav" type="AudioStream" id=4]
[ext_resource path="res://Game/Media/Soundtrack/farts/fart50a.wav" type="AudioStream" id=5]
[ext_resource path="res://Game/Media/Soundtrack/farts/fart62.wav" type="AudioStream" id=6]
[ext_resource path="res://Game/Media/Soundtrack/farts/fart53a.wav" type="AudioStream" id=7]
[ext_resource path="res://Game/Media/Soundtrack/farts/fartsmall03.wav" type="AudioStream" id=8]
[ext_resource path="res://Game/Media/Soundtrack/farts/fart54a.wav" type="AudioStream" id=9]
[ext_resource path="res://Game/Media/Soundtrack/farts/fartsmall06.wav" type="AudioStream" id=10]
[ext_resource path="res://Game/Media/Soundtrack/farts/fart55a.wav" type="AudioStream" id=11]
[ext_resource path="res://Game/Media/soundrand/musicsystem.tscn" type="PackedScene" id=12]
[ext_resource path="res://Game/Menu/PlayerUI.theme" type="Theme" id=13]
[ext_resource path="res://Game/Menu/south park.ttf" type="DynamicFontData" id=14]
[ext_resource path="res://Game/Menu/CDfont.tres" type="DynamicFont" id=15]
[ext_resource path="res://Game/Texture/UI/Player/radar1.png" type="Texture" id=16]
[ext_resource path="res://Game/Texture/UI/Player/radar2.png" type="Texture" id=17]
[ext_resource path="res://Game/Texture/UI/Player/radaratlas.png" type="Texture" id=18]
[ext_resource path="res://Game/Texture/UI/Player/crosshair/cross1.png" type="Texture" id=19]
[ext_resource path="res://Game/Player/CharacterHandler.gd" type="Script" id=20]
[ext_resource path="res://Game/Texture/UI/Player/weapon/snow1.png" type="Texture" id=21]
[ext_resource path="res://Game/Player/characters/files/base/64 Border.png" type="Texture" id=22]
[ext_resource path="res://Game/Player/PickupHandler.gd" type="Script" id=23]
[ext_resource path="res://Game/Menu/sp_dynamicfont.tres" type="DynamicFont" id=24]
[ext_resource path="res://Game/Player/WeaponHandler.gd" type="Script" id=25]

[sub_resource type="Animation" id=21]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Camera/CanvasLayer/menus/flash:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 0, 0, 0, 0 ) ]
}

[sub_resource type="Animation" id=22]
resource_name = "damage1"
length = 0.3
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath("Camera/CanvasLayer/menus/flash:color")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.05, 0.15 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Color( 0, 0, 0, 0 ), Color( 1, 0, 0, 0.784314 ), Color( 0, 0, 0, 0 ) ]
}

[sub_resource type="Animation" id=23]
resource_name = "heal"
length = 0.3
step = 0.01
tracks/0/type = "value"
tracks/0/path = NodePath("Camera/CanvasLayer/menus/flash:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.03, 0.07, 0.1 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 0, 0, 0, 0 ), Color( 0, 0, 1, 0.607843 ), Color( 0, 1, 0, 0.215686 ), Color( 0, 0, 0, 0 ) ]
}

[sub_resource type="Animation" id=25]
resource_name = "kill"
step = 0.01
tracks/0/type = "value"
tracks/0/path = NodePath("Camera/CanvasLayer/menus/flash:color")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.05, 0.5, 1 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 0, 0, 0, 0 ), Color( 1, 0, 0, 1 ), Color( 1, 0, 0, 1 ), Color( 1, 0, 0, 0 ) ]
}

[sub_resource type="StyleBoxEmpty" id=26]

[sub_resource type="DynamicFont" id=8]
size = 45
font_data = ExtResource( 14 )

[sub_resource type="StyleBoxFlat" id=6]
bg_color = Color( 0, 0.0313726, 0.670588, 1 )
border_width_top = 5
border_width_bottom = 5
border_color = Color( 0, 0.792157, 0.0352941, 0 )
corner_radius_top_left = 4
corner_radius_top_right = 4
corner_radius_bottom_right = 4
corner_radius_bottom_left = 4
anti_aliasing = false

[sub_resource type="StyleBoxFlat" id=7]
bg_color = Color( 0, 0, 0, 0.486275 )
corner_radius_top_left = 1
corner_radius_top_right = 1
corner_radius_bottom_right = 1
corner_radius_bottom_left = 1
corner_detail = 5

[sub_resource type="DynamicFont" id=9]
size = 45
font_data = ExtResource( 14 )

[sub_resource type="StyleBoxFlat" id=10]
bg_color = Color( 0.611765, 0.611765, 0.611765, 1 )
border_width_top = 5
border_width_bottom = 5
border_color = Color( 0, 0.792157, 0.0352941, 0 )
corner_radius_top_left = 4
corner_radius_top_right = 4
corner_radius_bottom_right = 4
corner_radius_bottom_left = 4
anti_aliasing = false

[sub_resource type="StyleBoxFlat" id=11]
bg_color = Color( 0, 0, 0, 0.486275 )
corner_radius_top_left = 1
corner_radius_top_right = 1
corner_radius_bottom_right = 1
corner_radius_bottom_left = 1
corner_detail = 5

[sub_resource type="DynamicFont" id=27]
size = 42
extra_spacing_bottom = -8
font_data = ExtResource( 14 )

[sub_resource type="Environment" id=15]
background_mode = 1

[sub_resource type="StreamTexture" id=20]
flags = 1
load_path = "res://.import/64 Border.png-3f4baf3b809a81324d79e744de2a6115.stex"

[sub_resource type="StyleBoxEmpty" id=18]

[sub_resource type="StyleBoxEmpty" id=19]

[sub_resource type="RayShape" id=14]
length = 2.0

[sub_resource type="AtlasTexture" id=16]
flags = 18
atlas = ExtResource( 18 )
region = Rect2( 1, 1, 14, 13 )

[sub_resource type="RayShape" id=5]
length = 0.13197

[sub_resource type="CapsuleShape" id=1]
radius = 0.592347
height = 1.31468

[node name="MainPlayer" type="KinematicBody" groups=["killable", "living", "player"]]
script = ExtResource( 1 )

[node name="CharacterHandler" type="Node" parent="."]
script = ExtResource( 20 )

[node name="PickupHandler" type="Node" parent="."]
script = ExtResource( 23 )

[node name="WeaponHandler" type="Node" parent="."]
script = ExtResource( 25 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/RESET = SubResource( 21 )
anims/damage1 = SubResource( 22 )
anims/heal = SubResource( 23 )
anims/kill = SubResource( 25 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 0 )
current = true
far = 8192.0

[node name="CanvasLayer" type="CanvasLayer" parent="Camera"]
follow_viewport_enable = true

[node name="HUD" type="Control" parent="Camera/CanvasLayer"]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_lock_": true
}

[node name="FPS" type="RichTextLabel" parent="Camera/CanvasLayer/HUD"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -360.0
margin_top = 64.0
margin_right = -48.0
margin_bottom = 120.0
rect_clip_content = false
custom_fonts/normal_font = ExtResource( 15 )
bbcode_enabled = true
bbcode_text = "FPS: [wave]00.0[/wave]"
text = "FPS: 00.0"
scroll_active = false

[node name="Crosshair" type="Panel" parent="Camera/CanvasLayer/HUD"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -1.0
margin_top = -1.0
margin_right = 1.0
margin_bottom = 1.0
custom_styles/panel = SubResource( 26 )

[node name="Sprite" type="Sprite" parent="Camera/CanvasLayer/HUD/Crosshair"]
position = Vector2( 1, 1 )
scale = Vector2( 3, 3 )
texture = ExtResource( 19 )

[node name="HealthBar" type="ProgressBar" parent="Camera/CanvasLayer/HUD"]
pause_mode = 2
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 384.0
margin_top = -224.0
margin_right = 832.0
margin_bottom = -160.0
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_fonts/font = SubResource( 8 )
custom_styles/fg = SubResource( 6 )
custom_styles/bg = SubResource( 7 )
value = 50.0
rounded = true

[node name="ArmorBar" type="ProgressBar" parent="Camera/CanvasLayer/HUD"]
pause_mode = 2
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 384.0
margin_top = -144.0
margin_right = 832.0
margin_bottom = -80.0
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_fonts/font = SubResource( 9 )
custom_styles/fg = SubResource( 10 )
custom_styles/bg = SubResource( 11 )
value = 50.0
rounded = true

[node name="CharacterName" type="Label" parent="Camera/CanvasLayer/HUD"]
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 384.0
margin_top = -56.0
margin_right = 768.0
margin_bottom = -21.0
custom_fonts/font = SubResource( 27 )
text = "Character Name"

[node name="RadarRim" type="Sprite" parent="Camera/CanvasLayer/HUD"]
position = Vector2( 192, 888 )
scale = Vector2( 3, 3 )
texture = ExtResource( 17 )

[node name="RadarRim" type="Sprite" parent="Camera/CanvasLayer/HUD/RadarRim"]
texture = ExtResource( 16 )
__meta__ = {
"_edit_lock_": true
}

[node name="Viewport" type="Viewport" parent="Camera/CanvasLayer/HUD"]
size = Vector2( 128, 128 )
hdr = false
usage = 3
gui_disable_input = true
shadow_atlas_quad_0 = 0
shadow_atlas_quad_1 = 0
shadow_atlas_quad_2 = 0
shadow_atlas_quad_3 = 0

[node name="minimap" type="Camera" parent="Camera/CanvasLayer/HUD/Viewport"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 12, 0 )
cull_mask = 512
environment = SubResource( 15 )
projection = 1
size = 2.504

[node name="TeamBar" type="HBoxContainer" parent="Camera/CanvasLayer/HUD"]

[node name="TM1" type="Sprite" parent="Camera/CanvasLayer/HUD/TeamBar"]
position = Vector2( 40, 32 )
scale = Vector2( 0.145, 0.145 )
texture = ExtResource( 22 )
centered = false

[node name="TM2" type="Sprite" parent="Camera/CanvasLayer/HUD/TeamBar"]
position = Vector2( 112, 32 )
scale = Vector2( 0.145, 0.145 )
texture = SubResource( 20 )
centered = false

[node name="TM3" type="Sprite" parent="Camera/CanvasLayer/HUD/TeamBar"]
position = Vector2( 184, 32 )
scale = Vector2( 0.145, 0.145 )
texture = SubResource( 20 )
centered = false

[node name="TM4" type="Sprite" parent="Camera/CanvasLayer/HUD/TeamBar"]
position = Vector2( 256, 32 )
scale = Vector2( 0.145, 0.145 )
texture = SubResource( 20 )
centered = false

[node name="weapon" type="Control" parent="Camera/CanvasLayer/HUD"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -512.0
margin_top = -248.0

[node name="weaponicon" type="Sprite" parent="Camera/CanvasLayer/HUD/weapon"]
position = Vector2( 128, 128 )
scale = Vector2( 3.3, 3.3 )
texture = ExtResource( 21 )

[node name="ammo" type="Label" parent="Camera/CanvasLayer/HUD/weapon"]
margin_left = 192.0
margin_top = 96.0
margin_right = 384.0
margin_bottom = 168.0
custom_fonts/font = ExtResource( 24 )
text = "00"

[node name="MP" type="Control" parent="Camera/CanvasLayer"]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_lock_": true
}

[node name="menus" type="Control" parent="Camera/CanvasLayer"]
pause_mode = 2
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = -1.0
margin_bottom = -1.0
theme = ExtResource( 13 )
__meta__ = {
"_edit_lock_": true,
"_edit_use_anchors_": true
}

[node name="menubg" type="ColorRect" parent="Camera/CanvasLayer/menus"]
pause_mode = 2
physics_interpolation_mode = 1
process_priority = 3
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
color = Color( 0, 0, 0, 0.403922 )

[node name="flash" type="ColorRect" parent="Camera/CanvasLayer/menus"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = 1.0
margin_bottom = 1.0
color = Color( 0, 0, 0, 0 )
__meta__ = {
"_edit_lock_": true,
"_edit_use_anchors_": true
}

[node name="pausemenu" type="VBoxContainer" parent="Camera/CanvasLayer/menus"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -380.5
margin_top = -184.0
margin_right = 380.5
margin_bottom = 184.0
alignment = 1

[node name="resume" type="Button" parent="Camera/CanvasLayer/menus/pausemenu"]
margin_top = 38.0
margin_right = 761.0
margin_bottom = 82.0
text = "Resume"

[node name="save" type="Button" parent="Camera/CanvasLayer/menus/pausemenu"]
margin_top = 100.0
margin_right = 761.0
margin_bottom = 144.0
disabled = true
text = "Save / Load"

[node name="net" type="Button" parent="Camera/CanvasLayer/menus/pausemenu"]
margin_top = 162.0
margin_right = 761.0
margin_bottom = 206.0
disabled = true
text = "Network Options"

[node name="options" type="Button" parent="Camera/CanvasLayer/menus/pausemenu"]
margin_top = 224.0
margin_right = 761.0
margin_bottom = 268.0
disabled = true
text = "Options"

[node name="quit" type="Button" parent="Camera/CanvasLayer/menus/pausemenu"]
margin_top = 286.0
margin_right = 761.0
margin_bottom = 330.0
text = "Quit"

[node name="deadmenu" type="VBoxContainer" parent="Camera/CanvasLayer/menus"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -348.0
margin_top = -332.0
margin_right = 348.0
margin_bottom = 332.0

[node name="Label" type="Label" parent="Camera/CanvasLayer/menus/deadmenu"]
margin_right = 696.0
margin_bottom = 33.0
custom_colors/font_color = Color( 0.870588, 0, 0, 1 )
custom_fonts/font = ExtResource( 24 )
text = "Continue?"
align = 1

[node name="HSeparator" type="HSeparator" parent="Camera/CanvasLayer/menus/deadmenu"]
margin_top = 51.0
margin_right = 696.0
margin_bottom = 275.0
custom_constants/separation = 224
custom_styles/separator = SubResource( 18 )

[node name="cy" type="Button" parent="Camera/CanvasLayer/menus/deadmenu"]
margin_top = 293.0
margin_right = 696.0
margin_bottom = 337.0
text = "Yes"

[node name="HSeparator2" type="HSeparator" parent="Camera/CanvasLayer/menus/deadmenu"]
margin_top = 355.0
margin_right = 696.0
margin_bottom = 359.0
custom_styles/separator = SubResource( 19 )

[node name="cn" type="Button" parent="Camera/CanvasLayer/menus/deadmenu"]
margin_top = 377.0
margin_right = 696.0
margin_bottom = 421.0
text = "No"

[node name="viewcheck" type="Area" parent="Camera"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0 )
collision_layer = 2
collision_mask = 2
__meta__ = {
"_editor_description_": "a"
}

[node name="CollisionShape" type="CollisionShape" parent="Camera/viewcheck"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.818368, 0 )
shape = SubResource( 14 )

[node name="talker" type="AudioStreamPlayer3D" parent="Camera"]
attenuation_model = 2
bus = "Voice"
emission_angle_degrees = 70.0

[node name="MapIcon" type="Sprite3D" parent="Camera"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0 )
layers = 512
billboard = 1
texture = SubResource( 16 )

[node name="Listener" type="Listener" parent="Camera"]
current = true

[node name="ProjSpawn" type="Position3D" parent="Camera"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.49495 )

[node name="punchcast" type="RayCast" parent="Camera"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.819289 )
enabled = true
cast_to = Vector3( 0, 0, -1.1 )
collide_with_areas = true

[node name="foot" type="CollisionShape" parent="."]
transform = Transform( 1, 0, 0, 0, -1.62921e-07, -1, 0, 1, -1.62921e-07, 0, 0, 0 )
visible = false
shape = SubResource( 5 )

[node name="body" type="CollisionShape" parent="."]
transform = Transform( 1, 0, 0, 0, 0, -1, 0, 1, 0, 0, 1.25, 0 )
shape = SubResource( 1 )

[node name="farter" parent="." instance=ExtResource( 12 )]
SoundList = [ ExtResource( 3 ), ExtResource( 4 ), ExtResource( 5 ), ExtResource( 7 ), ExtResource( 9 ), ExtResource( 11 ), ExtResource( 6 ), ExtResource( 2 ), ExtResource( 8 ), ExtResource( 10 ) ]
ImmediatelyPlay = false
KeepPlaying = false

[node name="Pickup" type="AudioStreamPlayer3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6743, 0 )
attenuation_model = 2
bus = "SFX"

[node name="floorcheck" type="RayCast" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.757, 0 )
enabled = true

[connection signal="Death" from="." to="CharacterHandler" method="_on_MainPlayer_Death"]
[connection signal="Heal" from="." to="CharacterHandler" method="_on_MainPlayer_Heal"]
[connection signal="Hurt" from="." to="CharacterHandler" method="_on_MainPlayer_Hurt"]
[connection signal="Spawn" from="." to="CharacterHandler" method="_on_MainPlayer_Spawn"]
[connection signal="pressed" from="Camera/CanvasLayer/menus/pausemenu/resume" to="." method="_on_resume_pressed"]
[connection signal="pressed" from="Camera/CanvasLayer/menus/pausemenu/quit" to="." method="_on_quit_pressed"]
[connection signal="pressed" from="Camera/CanvasLayer/menus/deadmenu/cy" to="." method="_on_cy_pressed"]
[connection signal="pressed" from="Camera/CanvasLayer/menus/deadmenu/cn" to="." method="_on_cn_pressed"]
[connection signal="area_entered" from="Camera/viewcheck" to="." method="_on_viewcheck_area_entered"]
[connection signal="area_exited" from="Camera/viewcheck" to="." method="_on_viewcheck_area_exited"]
